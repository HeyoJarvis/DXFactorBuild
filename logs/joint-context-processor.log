{"level":"info","message":"Anthropic client initialized","service":"joint-context-processor","timestamp":"2025-09-30T19:32:48.483Z"}
{"level":"info","message":"Processing CRM context","organizationId":"test_org_123","service":"joint-context-processor","timestamp":"2025-09-30T19:32:48.485Z"}
{"level":"error","message":"Failed to process CRM context: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the \"X-Api-Key\" or \"Authorization\" headers to be explicitly omitted","service":"joint-context-processor","stack":"Error: Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the \"X-Api-Key\" or \"Authorization\" headers to be explicitly omitted\n    at Anthropic.validateHeaders (/Users/jarvis/Code/HeyJarvis/core/node_modules/@anthropic-ai/sdk/index.js:93:15)\n    at Anthropic.buildHeaders (/Users/jarvis/Code/HeyJarvis/core/node_modules/@anthropic-ai/sdk/core.js:254:14)\n    at Anthropic.buildRequest (/Users/jarvis/Code/HeyJarvis/core/node_modules/@anthropic-ai/sdk/core.js:230:33)\n    at Anthropic.makeRequest (/Users/jarvis/Code/HeyJarvis/core/node_modules/@anthropic-ai/sdk/core.js:286:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async JointContextProcessor.processCRMContext (/Users/jarvis/Code/HeyJarvis/core/orchestration/joint-context-processor.js:91:24)\n    at async testJointContextPipeline (/Users/jarvis/Code/HeyJarvis/test-joint-context-pipeline.js:111:24)","timestamp":"2025-09-30T19:32:48.486Z"}
{"level":"info","message":"Anthropic client initialized","service":"joint-context-processor","timestamp":"2025-09-30T19:33:01.824Z"}
{"level":"info","message":"Anthropic client initialized","service":"joint-context-processor","timestamp":"2025-09-30T19:34:17.158Z"}
{"level":"info","message":"Processing CRM context","organizationId":"test_org_123","service":"joint-context-processor","timestamp":"2025-09-30T19:34:17.159Z"}
{"level":"error","message":"Failed to process CRM context: Unexpected token 'I', \"I'll help \"... is not valid JSON","service":"joint-context-processor","stack":"SyntaxError: Unexpected token 'I', \"I'll help \"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at JointContextProcessor.processCRMContext (/Users/jarvis/Code/HeyJarvis/core/orchestration/joint-context-processor.js:110:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async testJointContextPipeline (/Users/jarvis/Code/HeyJarvis/test-joint-context-pipeline.js:122:24)","timestamp":"2025-09-30T19:34:33.709Z"}
{"level":"info","message":"Anthropic client initialized","service":"joint-context-processor","timestamp":"2025-09-30T19:35:11.474Z"}
{"level":"info","message":"Processing CRM context","organizationId":"test_org_123","service":"joint-context-processor","timestamp":"2025-09-30T19:35:11.476Z"}
{"contextKeys":["company_intelligence","workflow_analysis","automation_gaps","technology_stack","process_maturity"],"level":"info","message":"CRM context processed successfully","organizationId":"test_org_123","service":"joint-context-processor","timestamp":"2025-09-30T19:35:18.400Z"}
{"level":"info","message":"Processing Slack workflows","organizationId":"test_org_123","service":"joint-context-processor","timestamp":"2025-09-30T19:35:18.401Z","workflowCount":3}
{"contextKeys":["communication_patterns","workflow_efficiency","automation_opportunities","team_productivity","process_gaps","integration_needs","user_behavior"],"level":"info","message":"Slack workflows processed successfully","organizationId":"test_org_123","service":"joint-context-processor","timestamp":"2025-09-30T19:35:24.506Z"}
{"level":"info","message":"Creating joint context","organizationId":"test_org_123","service":"joint-context-processor","timestamp":"2025-09-30T19:35:24.508Z"}
{"contextKeys":["synergies","cross_functional_opportunities","integrated_automation_potential","unified_process_insights","integrated_recommendations","end_to_end_optimization"],"level":"info","message":"Joint context created successfully","organizationId":"test_org_123","service":"joint-context-processor","timestamp":"2025-09-30T19:35:34.866Z"}
{"level":"info","message":"Generating recommendations","organizationId":"test_org_123","service":"joint-context-processor","timestamp":"2025-09-30T19:35:34.867Z","userQuery":"What tools should I use to automate my sales process?"}
{"level":"info","message":"Recommendations generated successfully","organizationId":"test_org_123","recommendationCount":3,"recommendationId":"rec_1759260942778_jzj4acxoa","service":"joint-context-processor","timestamp":"2025-09-30T19:35:42.778Z"}
{"followUpQuery":"What is your current CRM system?","level":"info","message":"Handling follow-up","recommendationId":"rec_1759260942778_jzj4acxoa","service":"joint-context-processor","timestamp":"2025-09-30T19:35:42.779Z"}
{"level":"info","message":"Follow-up handled successfully","recommendationId":"rec_1759260942778_jzj4acxoa","responseLength":1513,"service":"joint-context-processor","timestamp":"2025-09-30T19:35:50.424Z"}
{"level":"info","message":"Generating recommendations","organizationId":"test_org_123","service":"joint-context-processor","timestamp":"2025-09-30T19:35:50.425Z","userQuery":"How can I improve my CRM and Slack integration?"}
{"level":"info","message":"Recommendations generated successfully","organizationId":"test_org_123","recommendationCount":3,"recommendationId":"rec_1759260958775_xeql9dn6x","service":"joint-context-processor","timestamp":"2025-09-30T19:35:58.776Z"}
{"followUpQuery":"What is your current CRM system?","level":"info","message":"Handling follow-up","recommendationId":"rec_1759260958775_xeql9dn6x","service":"joint-context-processor","timestamp":"2025-09-30T19:35:58.777Z"}
{"level":"info","message":"Follow-up handled successfully","recommendationId":"rec_1759260958775_xeql9dn6x","responseLength":1646,"service":"joint-context-processor","timestamp":"2025-09-30T19:36:07.014Z"}
{"level":"info","message":"Generating recommendations","organizationId":"test_org_123","service":"joint-context-processor","timestamp":"2025-09-30T19:36:07.015Z","userQuery":"What workflow optimizations would save the most time?"}
{"level":"info","message":"Recommendations generated successfully","organizationId":"test_org_123","recommendationCount":3,"recommendationId":"rec_1759260975572_500te77l6","service":"joint-context-processor","timestamp":"2025-09-30T19:36:15.572Z"}
{"followUpQuery":"Which teams would be first to implement these automations?","level":"info","message":"Handling follow-up","recommendationId":"rec_1759260975572_500te77l6","service":"joint-context-processor","timestamp":"2025-09-30T19:36:15.572Z"}
{"level":"info","message":"Follow-up handled successfully","recommendationId":"rec_1759260975572_500te77l6","responseLength":1887,"service":"joint-context-processor","timestamp":"2025-09-30T19:36:24.904Z"}
{"level":"info","message":"Generating recommendations","organizationId":"test_org_123","service":"joint-context-processor","timestamp":"2025-09-30T19:36:24.905Z","userQuery":"Recommend software for lead management and follow-up"}
{"level":"info","message":"Recommendations generated successfully","organizationId":"test_org_123","recommendationCount":3,"recommendationId":"rec_1759260993411_xbxv7qi5b","service":"joint-context-processor","timestamp":"2025-09-30T19:36:33.411Z"}
{"followUpQuery":"What is your current lead volume per month?","level":"info","message":"Handling follow-up","recommendationId":"rec_1759260993411_xbxv7qi5b","service":"joint-context-processor","timestamp":"2025-09-30T19:36:33.411Z"}
{"level":"info","message":"Follow-up handled successfully","recommendationId":"rec_1759260993411_xbxv7qi5b","responseLength":1941,"service":"joint-context-processor","timestamp":"2025-09-30T19:36:43.252Z"}
